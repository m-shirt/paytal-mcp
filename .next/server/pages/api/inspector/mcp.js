(()=>{var e={};e.id=716,e.ids=[716],e.modules={5519:(e,t,r)=>{var s={"./paths":[767],"./paths.js":[767],"./paytal/code-review":[1710,710],"./paytal/code-review.js":[1710,710],"./paytal/login-and-company":[6518,518],"./paytal/login-and-company.js":[6518,518]};function a(e){if(!r.o(s,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=s[e],a=t[0];return Promise.all(t.slice(1).map(r.e)).then(()=>r(a))}a.keys=()=>Object.keys(s),a.id=5519,e.exports=a},9668:(e,t,r)=>{var s={"./paths":[2254],"./paths.js":[2254],"./paytal/company":[9866,866],"./paytal/company-details":[841,841],"./paytal/company-details.js":[841,841],"./paytal/company.js":[9866,866],"./paytal/login-using-otp":[5065,65],"./paytal/login-using-otp.js":[5065,65],"./paytal/request-otp-for-login":[1564,564],"./paytal/request-otp-for-login.js":[1564,564],"./paytal/upload":[5998,998],"./paytal/upload.js":[5998,998]};function a(e){if(!r.o(s,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=s[e],a=t[0];return Promise.all(t.slice(1).map(r.e)).then(()=>r(a))}a.keys=()=>Object.keys(s),a.id=9668,e.exports=a},5142:e=>{"use strict";e.exports=require("dotenv")},6860:e=>{"use strict";e.exports=require("express")},8941:e=>{"use strict";e.exports=require("form-data")},145:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},2048:e=>{"use strict";e.exports=require("fs")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},6907:e=>{"use strict";e.exports=import("@modelcontextprotocol/sdk/server/index.js")},1767:e=>{"use strict";e.exports=import("@modelcontextprotocol/sdk/server/sse.js")},6949:e=>{"use strict";e.exports=import("@modelcontextprotocol/sdk/server/stdio.js")},677:e=>{"use strict";e.exports=import("@modelcontextprotocol/sdk/server/streamableHttp.js")},5180:e=>{"use strict";e.exports=import("@modelcontextprotocol/sdk/types.js")},9648:e=>{"use strict";e.exports=import("axios")},6249:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},670:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>p,default:()=>l,routeModule:()=>u});var a=r(1802),o=r(7153),n=r(6249),i=r(4713),c=e([i]);i=(c.then?(await c)():c)[0];let l=(0,n.l)(i,"default"),p=(0,n.l)(i,"config"),u=new a.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/inspector/mcp",pathname:"/api/inspector/mcp",bundlePath:"",filename:""},userland:i});s()}catch(e){s(e)}})},7153:(e,t)=>{"use strict";var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},1802:(e,t,r)=>{"use strict";e.exports=r(145)},903:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});var s=r(767);async function a(){return Promise.all(s.promptPaths.map(async e=>({...(await r(5519)(`./${e}`)).default,path:e})))}},1400:(e,t,r)=>{"use strict";r.d(t,{n:()=>a});var s=r(2254);async function a(){return Promise.all(s.toolPaths.map(async e=>({...(await r(9668)(`./${e}`)).apiTool,path:e})))}},7380:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{n:()=>v});var a=r(5142),o=r(6860),n=r(6907),i=r(6949),c=r(1767),l=r(677),p=r(5180),u=r(1400),d=r(903),m=r(5315),y=r(7360),f=e([n,i,c,l,p]);[n,i,c,l,p]=f.then?(await f)():f;let j=(0,y.fileURLToPath)("file:///Users/shirt/Desktop/Code/paytal-mcp/mcpServer.js"),S=m.dirname(j);a.config({path:m.resolve(S,".env")});let q="paytal";async function w(e){return e.map(e=>{let t=e.definition?.function;if(t)return{name:t.name,description:t.description,inputSchema:t.parameters}}).filter(Boolean)}async function h(e){return e.map(({id:e,metadata:t})=>({id:e,name:t.title,description:t.description,arguments:t.argsSchema}))}async function v(e,t,r){e.setRequestHandler(p.ListToolsRequestSchema,async()=>({tools:await w(t)}));let s=await h(r);e.setRequestHandler(p.ListPromptsRequestSchema,async()=>({prompts:s})),e.setRequestHandler(p.CallToolRequestSchema,async e=>{let r=e.params.name,s=t.find(e=>e.definition.function.name===r);if(!s)throw new p.McpError(p.ErrorCode.MethodNotFound,`Unknown tool: ${r}`);let a=e.params.arguments;for(let e of s.definition?.function?.parameters?.required||[])if(!(e in a))throw new p.McpError(p.ErrorCode.InvalidParams,`Missing required parameter: ${e}`);try{let e=await s.function(a);return{content:[{type:"text",text:JSON.stringify(e,null,2)}]}}catch(e){throw new p.McpError(p.ErrorCode.InternalError,`API error: ${e.message}`)}}),e.setRequestHandler(p.GetPromptRequestSchema,async e=>{let t=r.find(t=>t.metadata.title===e.params.name);if(!t)throw new p.McpError(p.ErrorCode.MethodNotFound,"Prompt not found");let s=e.params.arguments||{},a=await t.handler(s);if(!Array.isArray(a.messages))throw new p.McpError(p.ErrorCode.InternalError,"Prompt handler must return messages array");return a})}async function P(e,t){let r=o();r.use(o.json()),r.post("/mcp",async(r,s)=>{try{let a=new n.Server({name:q,version:"0.1.0"},{capabilities:{tools:{},prompts:{}}});await v(a,e,t);let o=new l.StreamableHTTPServerTransport({sessionIdGenerator:void 0});s.on("close",async()=>{await o.close(),await a.close()}),await a.connect(o),await o.handleRequest(r,s,r.body)}catch(e){s.headersSent||s.status(500).json({jsonrpc:"2.0",error:{code:-32603,message:"Internal server error"},id:null})}});let s=process.env.PORT||3001;r.listen(s,()=>{})}async function g(e,t){let r=o(),s={},a={};r.get("/sse",async(r,o)=>{let i=new n.Server({name:q,version:"0.1.0"},{capabilities:{tools:{},prompts:{}}});await v(i,e,t);let l=new c.SSEServerTransport("/messages",o);s[l.sessionId]=l,a[l.sessionId]=i,o.on("close",async()=>{delete s[l.sessionId],await i.close(),delete a[l.sessionId]}),await i.connect(l)}),r.post("/messages",async(e,t)=>{let r=e.query.sessionId,o=s[r],n=a[r];o&&n?await o.handlePostMessage(e,t):t.status(400).send("No transport/server found for sessionId")});let i=process.env.PORT||3001;r.listen(i,()=>{})}async function x(e,t){let r=new n.Server({name:q,version:"0.1.0"},{capabilities:{tools:{},prompts:{}}});await v(r,e,t),process.on("SIGINT",async()=>{await r.close(),process.exit(0)});let s=new i.StdioServerTransport;await r.connect(s)}(async function(){let e=process.argv.slice(2),t=e.includes("--streamable-http"),r=e.includes("--sse"),s=await (0,u.n)(),a=await (0,d.P)();t&&r&&process.exit(1),t?await P(s,a):r?await g(s,a):await x(s,a)})().catch(console.log),s()}catch(e){s(e)}})},4713:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>p});var a=r(1400),o=r(903),n=r(6907),i=r(677),c=r(7380),l=e([n,i,c]);async function p(e,t){let r=(e.headers.accept||"").toLowerCase();if(!r.includes("application/json")||!r.includes("text/event-stream"))return t.status(406).json({jsonrpc:"2.0",error:{code:-32e3,message:"Not Acceptable: Client must accept both application/json and text/event-stream"},id:null});let s=await (0,a.n)(),l=await (0,o.P)(),p=new n.Server({name:"paytal",version:"0.1.0"},{capabilities:{tools:{},prompts:{}}});await (0,c.n)(p,s,l);let u=new i.StreamableHTTPServerTransport({sessionIdGenerator:void 0});t.on("close",async()=>{await u.close(),await p.close()}),await p.connect(u),await u.handleRequest(e,t,e.body)}[n,i,c]=l.then?(await l)():l,s()}catch(e){s(e)}})},767:(e,t,r)=>{"use strict";r.r(t),r.d(t,{promptPaths:()=>s});let s=["paytal/login-and-company.js"]},2254:(e,t,r)=>{"use strict";r.r(t),r.d(t,{toolPaths:()=>s});let s=["paytal/request-otp-for-login.js","paytal/company.js","paytal/upload.js","paytal/login-using-otp.js","paytal/company-details.js"]}};var t=require("../../../webpack-api-runtime.js");t.C(e);var r=t(t.s=670);module.exports=r})();