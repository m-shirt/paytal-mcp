"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_api_tools_paytal_login-using-otp_js";
exports.ids = ["_api_tools_paytal_login-using-otp_js"];
exports.modules = {

/***/ "(api)/./lib/tokenStore.js":
/*!***************************!*\
  !*** ./lib/tokenStore.js ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAccessToken: () => (/* binding */ getAccessToken),\n/* harmony export */   setAccessToken: () => (/* binding */ setAccessToken)\n/* harmony export */ });\nlet accessToken = null;\nconst setAccessToken = (token)=>{\n    accessToken = token;\n};\nconst getAccessToken = ()=>{\n    return accessToken;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvdG9rZW5TdG9yZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQUlBLGNBQWM7QUFFWCxNQUFNQyxpQkFBaUIsQ0FBQ0M7SUFFN0JGLGNBQWNFO0FBRWhCLEVBQUU7QUFFSyxNQUFNQyxpQkFBaUI7SUFHM0IsT0FBT0g7QUFFUixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9zdG1hbi1tY3AtZ2VuZXJhdG9yLW1jcC8uL2xpYi90b2tlblN0b3JlLmpzPzI5MjUiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IGFjY2Vzc1Rva2VuID0gbnVsbDtcblxuZXhwb3J0IGNvbnN0IHNldEFjY2Vzc1Rva2VuID0gKHRva2VuKSA9PiB7XG5cbiAgYWNjZXNzVG9rZW4gPSB0b2tlbjtcblxufTtcblxuZXhwb3J0IGNvbnN0IGdldEFjY2Vzc1Rva2VuID0gKCkgPT4geyBcblxuXG4gICByZXR1cm4gYWNjZXNzVG9rZW47XG4gIFxuICB9XG4iXSwibmFtZXMiOlsiYWNjZXNzVG9rZW4iLCJzZXRBY2Nlc3NUb2tlbiIsInRva2VuIiwiZ2V0QWNjZXNzVG9rZW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/tokenStore.js\n");

/***/ }),

/***/ "(api)/./tools/paytal/login-using-otp.js":
/*!*****************************************!*\
  !*** ./tools/paytal/login-using-otp.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   apiTool: () => (/* binding */ apiTool)\n/* harmony export */ });\n/* harmony import */ var _lib_tokenStore_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/tokenStore.js */ \"(api)/./lib/tokenStore.js\");\n\n/**\n * Function to log in using OTP.\n *\n * @param {Object} args - Arguments for the login request.\n * @param {string} args.email - The email of the user.\n * @param {string} args.otp - The OTP code sent to the user.\n * @returns {Promise<Object>} - The result of the login request store data.access_token for other apis.\n */ const executeFunction = async ({ email, otp })=>{\n    const apiUrl = process.env.PAYTAL_API_URL;\n    try {\n        // Construct the URL for the login request\n        const url = `${apiUrl}/auth/login`;\n        // Set up the request body\n        const body = JSON.stringify({\n            email,\n            otp\n        });\n        // Set up headers for the request\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n        };\n        // Perform the fetch request\n        const response = await fetch(url, {\n            method: \"POST\",\n            headers,\n            body\n        });\n        const rawText = await response.text();\n        // Check if response is JSON\n        const contentType = response.headers.get(\"content-type\");\n        let res;\n        if (contentType && contentType.includes(\"application/json\")) {\n            res = JSON.parse(rawText);\n        } else {\n            res = {\n                raw: rawText\n            };\n        }\n        // Check if the response was successful\n        if (!response.ok) {\n            throw new Error(`Status ${response.status}: ${JSON.stringify(res)}`);\n        }\n        //  console.error('res:', res);\n        // Ensure access_token exists before setting\n        if (!res.data?.access_token) {\n            throw new Error(\"No access_token in login response\");\n        }\n        (0,_lib_tokenStore_js__WEBPACK_IMPORTED_MODULE_0__.setAccessToken)(res.data.access_token); // store for other tools\n        return res;\n    } catch (error) {\n        // console.log('Error logging in:', error);\n        return {\n            error: `An error occurred while logging in: ${error instanceof Error ? error.message : JSON.stringify(error)}`\n        };\n    }\n};\n/**\n * Tool configuration for logging in using OTP.\n * @type {Object}\n */ const apiTool = {\n    function: executeFunction,\n    definition: {\n        type: \"function\",\n        function: {\n            name: \"login_using_otp\",\n            description: \"Log in using OTP.\",\n            parameters: {\n                type: \"object\",\n                properties: {\n                    email: {\n                        type: \"string\",\n                        description: \"The email of the user.\"\n                    },\n                    otp: {\n                        type: \"string\",\n                        description: \"The OTP code sent to the user.\"\n                    }\n                },\n                required: [\n                    \"email\",\n                    \"otp\"\n                ]\n            }\n        }\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi90b29scy9wYXl0YWwvbG9naW4tdXNpbmctb3RwLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXlEO0FBRXpEOzs7Ozs7O0NBT0MsR0FLRCxNQUFNQyxrQkFBa0IsT0FBTyxFQUFFQyxLQUFLLEVBQUVDLEdBQUcsRUFBRTtJQUMzQyxNQUFNQyxTQUFVQyxRQUFRQyxHQUFHLENBQUNDLGNBQWM7SUFDMUMsSUFBSTtRQUNGLDBDQUEwQztRQUMxQyxNQUFNQyxNQUFNLENBQUMsRUFBRUosT0FBTyxXQUFXLENBQUM7UUFFbEMsMEJBQTBCO1FBQzFCLE1BQU1LLE9BQU9DLEtBQUtDLFNBQVMsQ0FBQztZQUFFVDtZQUFPQztRQUFJO1FBRXpDLGlDQUFpQztRQUNqQyxNQUFNUyxVQUFVO1lBQ2QsZ0JBQWdCO1lBQ2hCLFVBQVU7UUFDWjtRQUVBLDRCQUE0QjtRQUM1QixNQUFNQyxXQUFXLE1BQU1DLE1BQU1OLEtBQUs7WUFDaENPLFFBQVE7WUFDUkg7WUFDQUg7UUFDRjtRQUVFLE1BQU1PLFVBQVUsTUFBTUgsU0FBU0ksSUFBSTtRQUNuQyw0QkFBNEI7UUFDOUIsTUFBTUMsY0FBY0wsU0FBU0QsT0FBTyxDQUFDTyxHQUFHLENBQUM7UUFDekMsSUFBSUM7UUFDSixJQUFJRixlQUFlQSxZQUFZRyxRQUFRLENBQUMscUJBQXFCO1lBQzNERCxNQUFNVixLQUFLWSxLQUFLLENBQUNOO1FBQ25CLE9BQU87WUFDTEksTUFBTTtnQkFBRUcsS0FBS1A7WUFBUTtRQUN2QjtRQUNBLHVDQUF1QztRQUN2QyxJQUFJLENBQUNILFNBQVNXLEVBQUUsRUFBRTtZQUNmLE1BQU0sSUFBSUMsTUFDVCxDQUFDLE9BQU8sRUFBRVosU0FBU2EsTUFBTSxDQUFDLEVBQUUsRUFBRWhCLEtBQUtDLFNBQVMsQ0FBQ1MsS0FBSyxDQUFDO1FBRXZEO1FBQ0YsK0JBQStCO1FBRS9CLDRDQUE0QztRQUMxQyxJQUFJLENBQUNBLElBQUlPLElBQUksRUFBRUMsY0FBYztZQUMzQixNQUFNLElBQUlILE1BQU07UUFDbEI7UUFFQXpCLGtFQUFjQSxDQUFDb0IsSUFBSU8sSUFBSSxDQUFDQyxZQUFZLEdBQUcsd0JBQXdCO1FBQy9ELE9BQU9SO0lBQ1QsRUFBRSxPQUFPUyxPQUFPO1FBQ2YsMkNBQTJDO1FBQzFDLE9BQU87WUFDTEEsT0FBTyxDQUFDLG9DQUFvQyxFQUFFQSxpQkFBaUJKLFFBQVFJLE1BQU1DLE9BQU8sR0FBR3BCLEtBQUtDLFNBQVMsQ0FBQ2tCLE9BQU8sQ0FBQztRQUNoSDtJQUNGO0FBQ0Y7QUFFQTs7O0NBR0MsR0FDRCxNQUFNRSxVQUFVO0lBQ2RDLFVBQVUvQjtJQUNWZ0MsWUFBWTtRQUNWQyxNQUFNO1FBQ05GLFVBQVU7WUFDUkcsTUFBTTtZQUNOQyxhQUFhO1lBQ2JDLFlBQVk7Z0JBQ1ZILE1BQU07Z0JBQ05JLFlBQVk7b0JBQ1ZwQyxPQUFPO3dCQUNMZ0MsTUFBTTt3QkFDTkUsYUFBYTtvQkFDZjtvQkFDQWpDLEtBQUs7d0JBQ0grQixNQUFNO3dCQUNORSxhQUFhO29CQUNmO2dCQUNGO2dCQUNBRyxVQUFVO29CQUFDO29CQUFTO2lCQUFNO1lBQzVCO1FBQ0Y7SUFDRjtBQUNGO0FBRW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9zdG1hbi1tY3AtZ2VuZXJhdG9yLW1jcC8uL3Rvb2xzL3BheXRhbC9sb2dpbi11c2luZy1vdHAuanM/MmIxZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXRBY2Nlc3NUb2tlbiB9IGZyb20gXCIuLi8uLi9saWIvdG9rZW5TdG9yZS5qc1wiO1xuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGxvZyBpbiB1c2luZyBPVFAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFyZ3MgLSBBcmd1bWVudHMgZm9yIHRoZSBsb2dpbiByZXF1ZXN0LlxuICogQHBhcmFtIHtzdHJpbmd9IGFyZ3MuZW1haWwgLSBUaGUgZW1haWwgb2YgdGhlIHVzZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gYXJncy5vdHAgLSBUaGUgT1RQIGNvZGUgc2VudCB0byB0aGUgdXNlci5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IC0gVGhlIHJlc3VsdCBvZiB0aGUgbG9naW4gcmVxdWVzdCBzdG9yZSBkYXRhLmFjY2Vzc190b2tlbiBmb3Igb3RoZXIgYXBpcy5cbiAqL1xuXG5cblxuXG5jb25zdCBleGVjdXRlRnVuY3Rpb24gPSBhc3luYyAoeyBlbWFpbCwgb3RwIH0pID0+IHtcbiAgY29uc3QgYXBpVXJsID0gIHByb2Nlc3MuZW52LlBBWVRBTF9BUElfVVJMO1xuICB0cnkge1xuICAgIC8vIENvbnN0cnVjdCB0aGUgVVJMIGZvciB0aGUgbG9naW4gcmVxdWVzdFxuICAgIGNvbnN0IHVybCA9IGAke2FwaVVybH0vYXV0aC9sb2dpbmA7XG5cbiAgICAvLyBTZXQgdXAgdGhlIHJlcXVlc3QgYm9keVxuICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7IGVtYWlsLCBvdHAgfSk7XG5cbiAgICAvLyBTZXQgdXAgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3RcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICB9O1xuXG4gICAgLy8gUGVyZm9ybSB0aGUgZmV0Y2ggcmVxdWVzdFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBib2R5XG4gICAgfSk7XG4gIFxuICAgICAgY29uc3QgcmF3VGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIC8vIENoZWNrIGlmIHJlc3BvbnNlIGlzIEpTT05cbiAgICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpO1xuICAgIGxldCByZXM7XG4gICAgaWYgKGNvbnRlbnRUeXBlICYmIGNvbnRlbnRUeXBlLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkge1xuICAgICAgcmVzID0gSlNPTi5wYXJzZShyYXdUZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzID0geyByYXc6IHJhd1RleHQgfTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgaWYgdGhlIHJlc3BvbnNlIHdhcyBzdWNjZXNzZnVsXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c306ICR7SlNPTi5zdHJpbmdpZnkocmVzKX1gXG4gICAgICApO1xuICAgIH1cbiAgLy8gIGNvbnNvbGUuZXJyb3IoJ3JlczonLCByZXMpO1xuXG4gIC8vIEVuc3VyZSBhY2Nlc3NfdG9rZW4gZXhpc3RzIGJlZm9yZSBzZXR0aW5nXG4gICAgaWYgKCFyZXMuZGF0YT8uYWNjZXNzX3Rva2VuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhY2Nlc3NfdG9rZW4gaW4gbG9naW4gcmVzcG9uc2VcIik7XG4gICAgfVxuXG4gICAgc2V0QWNjZXNzVG9rZW4ocmVzLmRhdGEuYWNjZXNzX3Rva2VuKTsgLy8gc3RvcmUgZm9yIG90aGVyIHRvb2xzXG4gICAgcmV0dXJuIHJlcztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgIC8vIGNvbnNvbGUubG9nKCdFcnJvciBsb2dnaW5nIGluOicsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6IGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBsb2dnaW5nIGluOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogSlNPTi5zdHJpbmdpZnkoZXJyb3IpfWBcbiAgICB9O1xuICB9XG59O1xuXG4vKipcbiAqIFRvb2wgY29uZmlndXJhdGlvbiBmb3IgbG9nZ2luZyBpbiB1c2luZyBPVFAuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5jb25zdCBhcGlUb29sID0ge1xuICBmdW5jdGlvbjogZXhlY3V0ZUZ1bmN0aW9uLFxuICBkZWZpbml0aW9uOiB7XG4gICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICBmdW5jdGlvbjoge1xuICAgICAgbmFtZTogJ2xvZ2luX3VzaW5nX290cCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ0xvZyBpbiB1c2luZyBPVFAuJyxcbiAgICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBlbWFpbDoge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBlbWFpbCBvZiB0aGUgdXNlci4nXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvdHA6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgT1RQIGNvZGUgc2VudCB0byB0aGUgdXNlci4nXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZXF1aXJlZDogWydlbWFpbCcsICdvdHAnXVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IHsgYXBpVG9vbCB9OyJdLCJuYW1lcyI6WyJzZXRBY2Nlc3NUb2tlbiIsImV4ZWN1dGVGdW5jdGlvbiIsImVtYWlsIiwib3RwIiwiYXBpVXJsIiwicHJvY2VzcyIsImVudiIsIlBBWVRBTF9BUElfVVJMIiwidXJsIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsInJhd1RleHQiLCJ0ZXh0IiwiY29udGVudFR5cGUiLCJnZXQiLCJyZXMiLCJpbmNsdWRlcyIsInBhcnNlIiwicmF3Iiwib2siLCJFcnJvciIsInN0YXR1cyIsImRhdGEiLCJhY2Nlc3NfdG9rZW4iLCJlcnJvciIsIm1lc3NhZ2UiLCJhcGlUb29sIiwiZnVuY3Rpb24iLCJkZWZpbml0aW9uIiwidHlwZSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInBhcmFtZXRlcnMiLCJwcm9wZXJ0aWVzIiwicmVxdWlyZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./tools/paytal/login-using-otp.js\n");

/***/ })

};
;